@page "/counter"
@rendermode InteractiveAuto
@inject CounterState State

<PageTitle>Counter</PageTitle>

<FluentLayout>
    <FluentHeader>Counter</FluentHeader>

    <FluentStack Orientation="Orientation.Vertical">
        <FluentLabel Typo="Typography.H5">Rendermode: <code>InteractiveAuto</code> </FluentLabel>

        <FluentLabel Typo="Typography.H5">To preserve the count when navigating between pages this component uses an </FluentLabel>
        <FluentAnchor Href="https://learn.microsoft.com/en-us/aspnet/core/blazor/state-management?view=aspnetcore-10.0&pivots=server#in-memory-state-container-service"
                      Target="_blank">
            In-Memory State Container
        </FluentAnchor>

        <FluentLabel Typo="Typography.H5">Current count: <FluentBadge Appearance="Appearance.Neutral">@CurrentCount</FluentBadge> </FluentLabel>

        <FluentButton Appearance="Appearance.Accent" @onclick="IncrementCount">Click me</FluentButton>
    </FluentStack>
</FluentLayout>

@code {
    private int CurrentCount { get =>  State.CurrentCount; set => State.CurrentCount = value; }

    private void IncrementCount() => State.CurrentCount++;
}
